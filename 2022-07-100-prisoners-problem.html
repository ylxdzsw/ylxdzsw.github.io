<!doctype html><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=ylxdzsw@gmail.com><meta charset=utf-8><title>100 Prisoners | ylxdzsw's blog</title><style>html{font-family:sans-serif;line-height:1.5;text-align:justify;hyphens:auto;color:#33333d}@media (max-width:625px){html{font-size:15px}}body{max-width:720px;margin:0 auto;padding:0 1rem}@media (max-width:625px){body{padding:0 .8rem}}h2,h3{margin:2rem 0 0;position:relative}h2:before,h3:before{content:"#";color:#42b983;position:absolute;left:-1rem;top:0;font-weight:700;opacity:0}@media (min-width:625px){h2:hover:before,h3:hover:before{opacity:1}}h2 a,h3 a{color:#2c3e50}h2{font-family:serif;padding-bottom:.7rem;border-bottom:.5px solid #ddd}h2:before{top:.1em;font-size:.9em}pre{border:1px solid #bcd;background-color:#ebf1f5;padding:.8rem;overflow-x:auto}pre code{font-size:.8rem}code{font-family:monospace;color:#222}ul ol{padding-left:1.5rem;margin:1.2rem 0}a{color:#42b983;text-decoration:none}a:hover{text-decoration:underline}blockquote{margin:1.2rem 0;padding:0 1rem;border-left:4px solid #42b983}blockquote.warn{border-left-color:tomato}blockquote p{margin-left:0}</style><div id=a><script>function random_permutate_100(){const t=[];for(let e=0;e<100;e++)t.push(e);let e,n=t.length;for(;0!=n;)e=Math.floor(Math.random()*n),n--,[t[n],t[e]]=[t[e],t[n]];return t}function simulate(t,e){let n=e;for(let r=0;r<50;r++){const r=t[n];if(r==e)return!0;n=r}return!1}function simulate_all(){const t=random_permutate_100();let e=0;for(let n=0;n<100;n++)e+=simulate(t,n);return 100==e}(async()=>{let t=0;const e=document.querySelector("#a");for(let n=1;n<=1e5;n++)simulate_all()&&t++,e.innerHTML=`${t} / ${n} = ${t/n}`,n%1e3==0&&await new Promise((t=>setTimeout(t,0)))})()</script></div>