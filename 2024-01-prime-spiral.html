<!doctype html><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=ylxdzsw@gmail.com><meta charset=utf-8><title>Prime Spiral | ylxdzsw's blog</title><style>html{font-family:sans-serif;line-height:1.5;text-align:justify;hyphens:auto;color:#33333d}@media (max-width:625px){html{font-size:15px}}body{max-width:720px;margin:0 auto;padding:0 1rem 1rem}@media (max-width:625px){body{padding:0 .8rem .8rem}}h2,h3{margin:2rem 0 0;position:relative}h2:before,h3:before{content:"#";color:#42b983;position:absolute;left:-1rem;top:0;font-weight:700;opacity:0}@media (min-width:625px){h2:hover:before,h3:hover:before{opacity:1}}h2 a,h3 a{color:#2c3e50}h2{font-family:serif;padding-bottom:.7rem;border-bottom:.5px solid #ddd}h2:before{top:.1em;font-size:.9em}pre{border:1px solid #bcd;background-color:#ebf1f5;padding:.8rem;overflow-x:auto}pre code{font-size:.8rem}code{font-family:monospace;color:#222}ul ol{padding-left:1.5rem;margin:1.2rem 0}a{color:#42b983;text-decoration:none}a:hover{text-decoration:underline}blockquote{margin:1.2rem 0;padding:0 1rem;border-left:4px solid #42b983}blockquote.warn{border-left-color:tomato}blockquote p{margin-left:0}</style><h3><a id=sec0 href=#sec0>Prime Spiral</a></h3><canvas style="display:block;max-width:400px;max-height:350px;margin:1em 0;width:calc(100vw - 1.6rem);height:calc(.875 * (100vw - 1.6rem))" width=800 height=700></canvas><div><label>c<input type=range id=c value=1.904 min=0 max=3.141592653589793 style=width:300px step=0.001></label></div><div><label>s<input type=range id=s value=50000 min=100 max=100000 style=width:300px step=1></label></div><script>function gen_primes(e=1e5){let t=new Set(Array(e-2).fill().map(((e,t)=>t+2)));for(let n=2;n<e;n++)if(t.has(n))for(let r=2*n;r<e;r+=n)t.delete(r);return t=Array.from(t),t.sort(((e,t)=>e-t)),t}function draw_spiral(e,t,n){const r=document.querySelector("canvas").getContext("2d");r.clearRect(0,0,r.canvas.width,r.canvas.height);const a=r.canvas.width/2,i=r.canvas.height/2,o=500/n;for(const c of e)if(c<n){const e=a+o*c*Math.cos(t*c/100),s=i+o*c*Math.sin(t*c/100);r.beginPath(),r.arc(e,s,1+c/n,0,2*Math.PI),r.fill()}}function redraw(e){draw_spiral(e,document.getElementById("c").value,document.getElementById("s").value)}if("undefined"!=typeof Deno)Deno.writeTextFileSync("primes.json",JSON.stringify(gen_primes()));else{const e=gen_primes();document.querySelectorAll("input[type=range]").forEach((t=>t.addEventListener("input",(()=>redraw(e))))),redraw(e)}</script><h3><a id=sec1 href=#sec1>References</a></h3><a href=https://en.wikipedia.org/wiki/Dirichlet%27s_theorem_on_arithmetic_progressions>https://en.wikipedia.org/wiki/Dirichlet%27s_theorem_on_arithmetic_progressions</a><br><a href="https://www.youtube.com/watch?v=EK32jo7i5LQ">https://www.youtube.com/watch?v=EK32jo7i5LQ</a>